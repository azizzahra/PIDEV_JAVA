<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<VBox xmlns="http://javafx.com/javafx/20.0.2"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="controller.Farm.ListeFarmsController"
      stylesheets="@styles.css"
      prefHeight="800.0"
      prefWidth="1200.0">

    <!-- Include the navigation bar -->
    <fx:include source="/views/NavBar.fxml" />

    <AnchorPane VBox.vgrow="ALWAYS">
        <!-- Layout principal -->
        <BorderPane AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0"
                    AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">

            <!-- En-tête avec image de fond -->
            <top>
                <VBox spacing="10" styleClass="header-background">
                    <padding><Insets top="40" right="20" bottom="40" left="20"/></padding>

                    <!-- Titre principal -->
                    <HBox alignment="CENTER">
                        <Label text="Farm Management" styleClass="header-title"/>
                    </HBox>

                    <!-- Sous-titre -->
                    <HBox alignment="CENTER">
                        <Label text="Welcome to the farm management interface, where you can efficiently manage, monitor, and optimize your farms"
                               styleClass="header-subtitle" textAlignment="CENTER" wrapText="true"/>
                    </HBox>

                    <!-- Fil d'Ariane -->
                    <HBox spacing="5" alignment="CENTER" style="-fx-padding: 10 0 0 0;">
                        <Label text="Home" styleClass="breadcrumb"/>
                        <Label text="/" styleClass="breadcrumb-separator"/>
                        <Label text="Farm" styleClass="breadcrumb-current"/>
                    </HBox>
                </VBox>
            </top>

            <!-- Panneau latéral pour les filtres -->
            <left>
                <VBox styleClass="sidebar" prefWidth="250" spacing="15">
                    <padding><Insets top="20" right="15" bottom="20" left="15"/></padding>

                    <!-- Titre des filtres -->
                    <Label text="--Filters--" styleClass="sidebar-header"/>

                    <!-- Section de filtre par emplacement -->
                    <Label text="Location" styleClass="filter-category"/>
                    <VBox fx:id="locationFilters" spacing="5">
                        <!-- Les checkboxes seront générées dynamiquement -->
                    </VBox>

                    <!-- Section de filtre par taille -->
                    <Label text="Size" styleClass="filter-category"/>
                    <VBox spacing="5">
                        <CheckBox fx:id="sizeSmall" text="&lt; 1000 KM²" selected="false">
                            <graphic>
                                <Label text="(0)" styleClass="filter-count" fx:id="smallSizeCount"/>
                            </graphic>
                        </CheckBox>
                        <CheckBox fx:id="sizeMedium" text="1000 - 2000 KM²" selected="false">
                            <graphic>
                                <Label text="(0)" styleClass="filter-count" fx:id="mediumSizeCount"/>
                            </graphic>
                        </CheckBox>
                        <CheckBox fx:id="sizeLarge" text="&gt; 2000 KM²" selected="false">
                            <graphic>
                                <Label text="(0)" styleClass="filter-count" fx:id="largeSizeCount"/>
                            </graphic>
                        </CheckBox>
                    </VBox>

                    <!-- Boutons d'action pour les filtres -->
                    <HBox spacing="10" alignment="CENTER">
                        <Button fx:id="applyFiltersBtn" text="Apply Filters" styleClass="filter-apply-btn">
                            <graphic>
                                <Region styleClass="filter-icon"/>
                            </graphic>
                        </Button>
                        <Button fx:id="clearFiltersBtn" styleClass="filter-clear-btn">
                            <graphic>
                                <Region styleClass="trash-icon"/>
                            </graphic>
                        </Button>
                    </HBox>
                </VBox>
            </left>

            <!-- Contenu principal -->
            <center>
                <VBox spacing="20">
                    <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>

                    <!-- Barre de recherche et bouton d'ajout -->
                    <HBox spacing="15" alignment="CENTER">
                        <TextField fx:id="searchField" promptText="Search..." styleClass="search-field" HBox.hgrow="ALWAYS"/>
                        <Button fx:id="btnAdd" text="Add Farm" styleClass="add-farm-btn" onAction="#OpenAddForm">
                            <graphic>
                                <Region styleClass="plus-icon"/>
                            </graphic>
                        </Button>
                    </HBox>

                    <!-- Liste des fermes -->
                    <ScrollPane fitToWidth="true" styleClass="farm-scroll-pane" VBox.vgrow="ALWAYS">
                        <TilePane fx:id="farmContainer"
                                  prefColumns="2"
                                  hgap="20"
                                  vgap="20"
                                  styleClass="farm-container"/>
                    </ScrollPane>
                </VBox>
            </center>
        </BorderPane>
    </AnchorPane>
</VBox>