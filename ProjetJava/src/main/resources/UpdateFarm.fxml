<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.util.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<?import javafx.scene.image.ImageView?>
<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="Controller.UpdateFarmController"
            prefHeight="800.0"
            prefWidth="1200.0">

    <HBox spacing="20" AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">
        <!-- Menu latéral 30% à gauche -->
        <VBox style="-fx-background-color: #2C3E50;" prefWidth="300">
            <Label text="Modifier une ferme" style="-fx-text-fill: white; -fx-font-size: 24; -fx-padding: 20;"/>
        </VBox>

        <!-- Formulaire principal 70% à droite -->
        <VBox spacing="20" HBox.hgrow="ALWAYS" style="-fx-padding: 40;">
            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" style="-fx-background: transparent;">
                <VBox spacing="20" style="-fx-padding: 20;">
                    <GridPane hgap="20" vgap="10">
                        <columnConstraints>
                            <ColumnConstraints hgrow="NEVER" minWidth="150" prefWidth="150" />
                            <ColumnConstraints hgrow="ALWAYS" minWidth="300" prefWidth="400" />
                        </columnConstraints>

                        <!-- Ligne 1: Nom -->
                        <Label text="Nom de la ferme:" GridPane.columnIndex="0" GridPane.rowIndex="0"
                               style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                        <VBox spacing="2" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <TextField fx:id="fname" style="-fx-font-size: 14px; -fx-padding: 10px;"/>
                            <Label fx:id="fnameError" style="-fx-text-fill: red; -fx-font-size: 12px;" visible="false"/>
                        </VBox>

                        <!-- Ligne 2: Taille -->
                        <Label text="Superficie (m²):" GridPane.columnIndex="0" GridPane.rowIndex="1"
                               style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                        <VBox spacing="2" GridPane.columnIndex="1" GridPane.rowIndex="1">
                            <TextField fx:id="fsize" style="-fx-font-size: 14px; -fx-padding: 10px;"/>
                            <Label fx:id="fsizeError" style="-fx-text-fill: red; -fx-font-size: 12px;" visible="false"/>
                        </VBox>

                        <!-- Ligne 3: Emplacement -->
                        <Label text="Emplacement:" GridPane.columnIndex="0" GridPane.rowIndex="2"
                               style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                        <VBox spacing="2" GridPane.columnIndex="1" GridPane.rowIndex="2">
                            <TextField fx:id="flocation" style="-fx-font-size: 14px; -fx-padding: 10px;"/>
                            <Label fx:id="flocationError" style="-fx-text-fill: red; -fx-font-size: 12px;" visible="false"/>
                        </VBox>


                        <!-- Ligne 4: Image -->
                        <Label text="Image:" GridPane.columnIndex="0" GridPane.rowIndex="3"
                               style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                        <VBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="3">
                            <HBox spacing="10">
                                <TextField fx:id="fimage" style="-fx-font-size: 14px; -fx-padding: 10px;" HBox.hgrow="ALWAYS" editable="false"/>
                                <Button fx:id="btnSelectImage" onAction="#selectImage" text="Parcourir"
                                        style="-fx-font-size: 14px; -fx-padding: 10px;"/>
                            </HBox>
                            <ImageView fx:id="imagePreview" fitWidth="200" fitHeight="150" preserveRatio="true" visible="false"/>
                            <Label fx:id="fimageError" style="-fx-text-fill: red; -fx-font-size: 12px;" visible="false"/>
                        </VBox>

                        <!-- Ligne 5: Description -->
                        <Label text="Description:" GridPane.columnIndex="0" GridPane.rowIndex="4"
                               style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                        <VBox spacing="2" GridPane.columnIndex="1" GridPane.rowIndex="4">
                            <TextArea fx:id="fdescription" style="-fx-font-size: 14px; -fx-padding: 10px;" prefHeight="100"/>
                            <Label fx:id="fdescriptionError" style="-fx-text-fill: red; -fx-font-size: 12px;" visible="false"/>
                        </VBox>

                        <!-- Ligne 6: Latitude -->
                        <Label text="Latitude:" GridPane.columnIndex="0" GridPane.rowIndex="5"
                               style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                        <VBox spacing="2" GridPane.columnIndex="1" GridPane.rowIndex="5">
                            <TextField fx:id="flatitude" style="-fx-font-size: 14px; -fx-padding: 10px;"/>
                            <Label fx:id="flatitudeError" style="-fx-text-fill: red; -fx-font-size: 12px;" visible="false"/>
                        </VBox>

                        <!-- Ligne 7: Longitude -->
                        <Label text="Longitude:" GridPane.columnIndex="0" GridPane.rowIndex="6"
                               style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                        <VBox spacing="2" GridPane.columnIndex="1" GridPane.rowIndex="6">
                            <TextField fx:id="flongitude" style="-fx-font-size: 14px; -fx-padding: 10px;"/>
                            <Label fx:id="flongitudeError" style="-fx-text-fill: red; -fx-font-size: 12px;" visible="false"/>
                        </VBox>

                        <!-- Ligne 8: ID Utilisateur -->
                        <Label text="ID Utilisateur:" GridPane.columnIndex="0" GridPane.rowIndex="7"
                               style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                        <VBox spacing="2" GridPane.columnIndex="1" GridPane.rowIndex="7">
                            <TextField fx:id="fuser" style="-fx-font-size: 14px; -fx-padding: 10px;"/>
                            <Label fx:id="fuserError" style="-fx-text-fill: red; -fx-font-size: 12px;" visible="false"/>
                        </VBox>
                    </GridPane>

                    <!-- Boutons d'action -->
                    <HBox spacing="20" alignment="CENTER_RIGHT" style="-fx-padding: 30 0 0 0;">
                        <Button fx:id="btnUpdateFarm" onAction="#UpdateFarmAction"
                                style="-fx-font-size: 16px; -fx-padding: 10 30; -fx-background-color: #2C3E50; -fx-text-fill: white;"
                                text="Enregistrer les modifications"/>
                        <Button onAction="#cancelUpdate"
                                style="-fx-font-size: 16px; -fx-padding: 10 30; -fx-background-color: #7f8c8d; -fx-text-fill: white;"
                                text="Annuler"/>
                    </HBox>
                </VBox>
            </ScrollPane>
        </VBox>
    </HBox>
</AnchorPane>