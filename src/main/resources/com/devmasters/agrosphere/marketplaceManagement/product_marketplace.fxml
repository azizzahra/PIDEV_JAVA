<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.text.Text?>

<BorderPane fx:id="root" styleClass="root" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.devmasters.agrosphere.marketplaceManagement.Controller.MarketplaceViewController">
    <top>
        <VBox spacing="10">
            <!-- Header/Navigation Bar -->
            <HBox styleClass="nav-bar" alignment="CENTER_LEFT" spacing="20">
                <padding><Insets top="10" right="20" bottom="10" left="20"/></padding>

                <ImageView fitHeight="40" fitWidth="40" preserveRatio="true">
                    <Image url="@assets/images/logo.png"/>
                </ImageView>

                <Region HBox.hgrow="ALWAYS" />

                <Button text="Home" styleClass="nav-button" onAction="#handleNavigate"/>
                <Button text="Market Place" styleClass="nav-button" onAction="#handleNavigate"/>
                <Button text="Event" styleClass="nav-button" onAction="#handleNavigate"/>
                <Button text="Forum" styleClass="nav-button" onAction="#handleNavigate"/>
                <Button text="Farm" styleClass="nav-button" onAction="#handleNavigate"/>
                <Button text="About Us" styleClass="nav-button" onAction="#handleNavigate"/>
                <Button text="Contact" styleClass="nav-button" onAction="#handleNavigate"/>

                <Button fx:id="cartButton" styleClass="cart-button" onAction="#viewCart"/>

            </HBox>

            <!-- Marketplace Banner -->
            <VBox alignment="CENTER" styleClass="marketplace-banner">
                <padding><Insets top="30" right="20" bottom="30" left="20"/></padding>
                <Label text="Marketplace" styleClass="marketplace-title"/>
                <Label text="Providing Fresh Produce Every Single Day" styleClass="marketplace-subtitle"/>
            </VBox>
        </VBox>
    </top>
    <!--<top>
        <VBox alignment="CENTER" styleClass="marketplace-banner">
            <padding><Insets top="30" right="20" bottom="30" left="20"/></padding>
            <Label text="Marketplace" styleClass="marketplace-title"/>
            <Label text="Providing Fresh Produce Every Single Day" styleClass="marketplace-subtitle"/>

        </VBox>
    </top>-->

    <center>
        <HBox spacing="20" styleClass="marketplace-content">
            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>

            <!-- Filter Panel -->
            <VBox styleClass="filter-panel" spacing="15" minWidth="200">
                <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                <Label text="Filtre" styleClass="filter-title"/>

                <VBox spacing="10">
                    <Label text="Categories" styleClass="filter-subtitle"/>
                    <ComboBox fx:id="productFilterCombo" prefWidth="160" promptText="Categories">
                        <tooltip>
                            <Tooltip text="Filter products by category"/>
                        </tooltip>
                    </ComboBox>
                </VBox>

                <VBox spacing="10">
                    <Label text="Sorting" styleClass="filter-subtitle"/>
                    <ComboBox fx:id="sortingCombo" prefWidth="160" promptText="Sort By">
                        <tooltip>
                            <Tooltip text="Sort products"/>
                        </tooltip>
                    </ComboBox>
                </VBox>

                <VBox spacing="10">
                    <Label text="Search" styleClass="filter-subtitle"/>
                    <TextField fx:id="searchField" prefWidth="160" promptText="Search products...">
                        <tooltip>
                            <Tooltip text="Search for products"/>
                        </tooltip>
                    </TextField>
                </VBox>
            </VBox>

            <!-- Product Grid -->
            <ScrollPane fitToWidth="true" styleClass="product-scroll" VBox.vgrow="ALWAYS" HBox.hgrow="ALWAYS">
                <content>
                    <FlowPane fx:id="productContainer" styleClass="product-grid" hgap="20" vgap="20">
                        <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>
                    </FlowPane>
                </content>
            </ScrollPane>
        </HBox>
    </center>
</BorderPane>